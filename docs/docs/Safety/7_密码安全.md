# 密码安全

## 密码泄露渠道

- 数据库被偷
- 服务器被入侵
- 通讯被窃听
- 内部人员泄露数据

## 存储

- 严禁明文存储（防泄露）
- 单向变换（防泄露）
- 变换复杂度要求（防猜解）
- 密码复杂度要求（防猜解）
- 加盐（防猜解）

## 哈希算法

### 1. 哈希算法特点

- 明文-密文一一对应
- 雪崩效应（明文稍微变化，得到的密文就会有很大的不同）
- 密文-明文无法反推
- 密文固定长度

### 2. 常见哈希算法

- md5
- sha1
- sha256

### 3. 加密变换次数越多越安全

- 加密成本基本不变（生成密码时会慢一点）
- 彩虹表会失效（数量太大，无法建立通用性）
- 时解密唱本增大 N 倍

## 密码加固

- 在用户表中加上 `salt`字段
- 如果用户没有 `salt` 值，则需要升级
- 如果用户 `salt` 值已存在，则不需升级

## 密码传输安全

- HTTPS 传输
- 频率限制
- 前端加密